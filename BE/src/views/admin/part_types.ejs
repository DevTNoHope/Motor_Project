
<div class="mb-4">
  <a href="/admin/part-types/new"
     class="px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700">
     + Thêm loại phụ tùng
  </a>
</div>

<table class="w-full border border-slate-300 bg-white">
  <thead class="bg-slate-100">
    <tr>
      <th class="p-2 border text-center">#</th>
      <th class="p-2 border text-left">Tên loại</th>
      <th class="p-2 border text-left">Mô tả</th>
      <th class="p-2 border text-center">Hành động</th>
    </tr>
  </thead>
  <tbody>
    <% if (partTypes.length === 0) { %>
      <tr><td colspan="4" class="text-center p-4 text-gray-500">Chưa có loại phụ tùng nào</td></tr>
    <% } else { %>
      <% partTypes.forEach((p, i) => { %>
      <tr class="hover:bg-slate-50">
        <td class="p-2 border text-center"><%= i + 1 %></td>
        <td class="p-2 border"><%= p.name %></td>
        <td class="p-2 border text-sm text-slate-600">
          <% if (p.description && p.description.length > 40) { %>
            <%= p.description.substring(0, 40) %>...
          <% } else { %>
            <%= p.description || '-' %>
          <% } %>
        </td>
        <td class="p-2 border text-center">
          <a href="/admin/part-types/<%= p.id %>/edit" class="text-blue-600 hover:underline">Sửa</a>
        <form action="/admin/part-types/<%= p.id %>" method="POST" class="inline">
        <input type="hidden" name="_method" value="DELETE">
        <button type="submit" class="text-red-600 hover:underline ml-2"
                onclick="return confirm('Xóa loại phụ tùng này?')">Xóa</button>
        </form>
        </td>
      </tr>
      <% }) %>
    <% } %>
  </tbody>
</table>

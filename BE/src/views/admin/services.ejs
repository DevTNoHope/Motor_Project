
<div class="mb-4">
  <a href="/admin/services/new"
     class="px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700">
     + Thêm dịch vụ
  </a>
</div>

<table class="w-full border border-slate-300 bg-white">
  <thead class="bg-slate-100">
    <tr>
      <th class="p-2 border">#</th>
      <th class="p-2 border">Tên</th>
      <th class="p-2 border">Loại</th>
      <th class="p-2 border">Mô tả</th> <!-- ✅ thêm cột mô tả -->
      <th class="p-2 border">Giá</th>
      <th class="p-2 border">Thời lượng</th>
      <th class="p-2 border">Trạng thái</th>
      <th class="p-2 border">Hành động</th>
    </tr>
  </thead>
  <tbody>
    <% services.forEach((s, i) => { %>
    <tr class="hover:bg-slate-50">
      <td class="p-2 border text-center"><%= i + 1 %></td>
      <td class="p-2 border"><%= s.name %></td>
      <td class="p-2 border text-center"><%= s.type %></td>
      <td class="p-2 border text-sm text-slate-600">
        <% if (s.description && s.description.length > 40) { %>
          <%= s.description.substring(0, 40) %>...
        <% } else { %>
          <%= s.description || '-' %>
        <% } %>
      </td> <!-- ✅ hiển thị mô tả rút gọn -->
      <td class="p-2 border text-right"><%= s.base_price?.toLocaleString() || '-' %></td>
      <td class="p-2 border text-center"><%= s.default_duration_min || '-' %> phút</td>
      <td class="p-2 border text-center"><%= s.is_active ? '✔️' : '❌' %></td>
      <td class="p-2 border text-center">
        <a href="/admin/services/<%= s.id %>/edit" class="text-blue-600 hover:underline">Sửa</a>
        <form action="/admin/services/<%= s.id %>?_method=DELETE" method="POST" class="inline">
          <button class="text-red-600 hover:underline ml-2"
                  onclick="return confirm('Xóa dịch vụ này?')">Xóa</button>
        </form>
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>
